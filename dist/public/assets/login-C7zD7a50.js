import{j as e,m as l,a3 as E,af as x,am as G,ap as P,E as F,e as H,A as W,aq as I,ar as A}from"./ui-BzyooJSI.js";import{u as D,a as m,L as q}from"./vendor-BfRVl83A.js";import{s as Y,u as B,C as O,n as R,o as T,b as $,B as u}from"./index-9SW5wrSE.js";import{I as g}from"./input-1gfFfBuy.js";import{L as b}from"./label-3IiVbzYS.js";import{S as z}from"./separator-BFvmEZt_.js";import"./query-CozCGnLG.js";function Z(){const[,n]=D(),{login:f,loginWithGoogle:y,loginWithGitHub:j,isLoading:t}=Y(),{toast:r}=B(),[a,v]=m.useState({email:"",password:""}),[d,w]=m.useState(!1),[i,p]=m.useState({}),h=s=>{const{name:o,value:L}=s.target;v(c=>({...c,[o]:L})),i[o]&&p(c=>({...c,[o]:""}))},N=()=>{const s={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(s.email="Email is invalid"):s.email="Email is required",a.password?a.password.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",p(s),Object.keys(s).length===0},k=async s=>{if(s.preventDefault(),!!N())try{await f(a.email,a.password),r({title:"Welcome back!",description:"You've successfully logged in."}),n("/dashboard")}catch{r({title:"Login failed",description:"Invalid email or password. Please try again.",variant:"destructive"})}},C=async()=>{try{await y(),r({title:"Welcome!",description:"You've successfully logged in with Google."}),n("/dashboard")}catch{r({title:"Google login failed",description:"Please try again.",variant:"destructive"})}},S=async()=>{try{await j(),r({title:"Welcome!",description:"You've successfully logged in with GitHub."}),n("/dashboard")}catch{r({title:"GitHub login failed",description:"Please try again.",variant:"destructive"})}};return e.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",style:{background:"var(--bg-deep-olive)"},children:e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative z-10 w-full max-w-md",children:e.jsxs(O,{className:"bg-[var(--bg-cream)] border-0 shadow-2xl",children:[e.jsxs(R,{className:"space-y-2 text-center pb-8",children:[e.jsx(l.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"mx-auto w-16 h-16 bg-primary rounded-2xl flex items-center justify-center mb-4",children:e.jsx("img",{src:"/logo.webp",alt:"Ingredo",className:"w-8 h-8 sm:w-10 sm:h-10"})}),e.jsx(T,{className:"font-serif text-2xl font-medium text-foreground",children:"Welcome back"}),e.jsx("p",{className:"text-muted-foreground italic font-serif",children:"Sign in to your account to continue cooking"})]}),e.jsxs($,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"email",className:"text-sm font-medium text-foreground",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(g,{id:"email",name:"email",type:"email",value:a.email,onChange:h,className:`pl-10 h-12 bg-background border-border focus:border-primary focus:ring-primary/20 ${i.email?"border-destructive focus:border-destructive":""}`,placeholder:"Enter your email",disabled:t})]}),e.jsx(x,{children:i.email&&e.jsx(l.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-sm text-red-500",children:i.email})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"password",className:"text-sm font-medium text-foreground",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(g,{id:"password",name:"password",type:d?"text":"password",value:a.password,onChange:h,className:`pl-10 pr-10 h-12 bg-background border-border focus:border-primary focus:ring-primary/20 ${i.password?"border-destructive focus:border-destructive":""}`,placeholder:"Enter your password",disabled:t}),e.jsx("button",{type:"button",onClick:()=>w(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",disabled:t,children:d?e.jsx(P,{className:"h-4 w-4"}):e.jsx(F,{className:"h-4 w-4"})})]}),e.jsx(x,{children:i.password&&e.jsx(l.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-sm text-red-500",children:i.password})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",className:"text-sm text-primary hover:text-primary/80 transition-colors",onClick:()=>r({title:"Feature coming soon",description:"Password reset will be available soon."}),children:"Forgot password?"})}),e.jsxs(u,{type:"submit",className:"w-full h-12 bg-primary hover:bg-primary/90 text-primary-foreground font-medium transition-all duration-200",disabled:t,children:[t?e.jsx(H,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(W,{className:"h-4 w-4 mr-2"}),"Sign in"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"bg-border"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"bg-card px-4 text-sm text-muted-foreground",children:"or continue with"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(u,{type:"button",variant:"outline",onClick:C,disabled:t,className:"h-12 bg-background border-border hover:bg-muted transition-all duration-200",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Google"]}),e.jsxs(u,{type:"button",variant:"outline",onClick:S,disabled:t,className:"h-12 bg-background border-border hover:bg-muted transition-all duration-200",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"GitHub"]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",e.jsx(q,{href:"/auth/signup",className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Sign up"})]})})]})]})})})}export{Z as default};

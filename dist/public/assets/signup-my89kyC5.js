import{j as e,m as i,U as I,af as d,a3 as A,am as g,ap as w,E as j,e as T,A as W,aq as q,ar as $}from"./ui-BzyooJSI.js";import{u as B,a as c,L as D}from"./vendor-BfRVl83A.js";import{s as R,u as Y,C as z,n as O,o as U,b as J,B as y}from"./index-9SW5wrSE.js";import{I as m}from"./input-1gfFfBuy.js";import{L as u}from"./label-3IiVbzYS.js";import{S as M}from"./separator-BFvmEZt_.js";import"./query-CozCGnLG.js";function se(){const[,p]=B(),{register:v,loginWithGoogle:N,loginWithGitHub:P,isLoading:t}=R(),{toast:o}=Y(),[s,C]=c.useState({name:"",email:"",password:"",confirmPassword:""}),[h,k]=c.useState(!1),[x,S]=c.useState(!1),[r,b]=c.useState({}),n=a=>{const{name:l,value:H}=a.target;C(f=>({...f,[l]:H})),r[l]&&b(f=>({...f,[l]:""}))},E=()=>{const a={};return s.name.trim()?s.name.trim().length<2&&(a.name="Name must be at least 2 characters"):a.name="Name is required",s.email?/\S+@\S+\.\S+/.test(s.email)||(a.email="Email is invalid"):a.email="Email is required",s.password?s.password.length<6&&(a.password="Password must be at least 6 characters"):a.password="Password is required",s.confirmPassword?s.password!==s.confirmPassword&&(a.confirmPassword="Passwords do not match"):a.confirmPassword="Please confirm your password",b(a),Object.keys(a).length===0},G=async a=>{if(a.preventDefault(),!!E())try{await v(s.name,s.email,s.password),o({title:"Welcome to Ingredo!",description:"Your account has been created successfully."}),p("/dashboard")}catch{o({title:"Registration failed",description:"Something went wrong. Please try again.",variant:"destructive"})}},L=async()=>{try{await N(),o({title:"Welcome!",description:"You've successfully signed up with Google."}),p("/dashboard")}catch{o({title:"Google signup failed",description:"Please try again.",variant:"destructive"})}},F=async()=>{try{await P(),o({title:"Welcome!",description:"You've successfully signed up with GitHub."}),p("/dashboard")}catch{o({title:"GitHub signup failed",description:"Please try again.",variant:"destructive"})}};return e.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",style:{background:"var(--bg-deep-olive)"},children:e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative z-10 w-full max-w-md",children:e.jsxs(z,{className:"bg-[var(--bg-cream)] border-0 shadow-2xl",children:[e.jsxs(O,{className:"space-y-2 text-center pb-8",children:[e.jsx(i.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"mx-auto w-16 h-16 bg-secondary rounded-2xl flex items-center justify-center mb-4",children:e.jsx("img",{src:"/logo.webp",alt:"Ingredo",className:"w-8 h-8 sm:w-10 sm:h-10"})}),e.jsx(U,{className:"font-serif text-2xl font-medium text-foreground",children:"Join Ingredo"}),e.jsx("p",{className:"text-muted-foreground italic font-serif",children:"Create your account and start cooking amazing meals"})]}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:G,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"name",className:"text-sm font-medium text-foreground",children:"Full name"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(m,{id:"name",name:"name",type:"text",value:s.name,onChange:n,className:`pl-10 h-12 bg-background border-border focus:border-primary focus:ring-primary/20 ${r.name?"border-destructive focus:border-destructive":""}`,placeholder:"Enter your full name",disabled:t})]}),e.jsx(d,{children:r.name&&e.jsx(i.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-sm text-red-500",children:r.name})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"email",className:"text-sm font-medium text-foreground",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(m,{id:"email",name:"email",type:"email",value:s.email,onChange:n,className:`pl-10 h-12 bg-background border-border focus:border-primary focus:ring-primary/20 ${r.email?"border-destructive focus:border-destructive":""}`,placeholder:"Enter your email",disabled:t})]}),e.jsx(d,{children:r.email&&e.jsx(i.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-sm text-red-500",children:r.email})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"password",className:"text-sm font-medium text-foreground",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(m,{id:"password",name:"password",type:h?"text":"password",value:s.password,onChange:n,className:`pl-10 pr-10 h-12 bg-background border-border focus:border-primary focus:ring-primary/20 ${r.password?"border-destructive focus:border-destructive":""}`,placeholder:"Create a password",disabled:t}),e.jsx("button",{type:"button",onClick:()=>k(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",disabled:t,children:h?e.jsx(w,{className:"h-4 w-4"}):e.jsx(j,{className:"h-4 w-4"})})]}),e.jsx(d,{children:r.password&&e.jsx(i.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-sm text-red-500",children:r.password})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"confirmPassword",className:"text-sm font-medium text-foreground",children:"Confirm password"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(m,{id:"confirmPassword",name:"confirmPassword",type:x?"text":"password",value:s.confirmPassword,onChange:n,className:`pl-10 pr-10 h-12 bg-background border-border focus:border-primary focus:ring-primary/20 ${r.confirmPassword?"border-destructive focus:border-destructive":""}`,placeholder:"Confirm your password",disabled:t}),e.jsx("button",{type:"button",onClick:()=>S(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",disabled:t,children:x?e.jsx(w,{className:"h-4 w-4"}):e.jsx(j,{className:"h-4 w-4"})})]}),e.jsx(d,{children:r.confirmPassword&&e.jsx(i.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-sm text-red-500",children:r.confirmPassword})})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["By creating an account, you agree to our"," ",e.jsx("button",{type:"button",className:"text-primary hover:text-primary/80 underline",onClick:()=>o({title:"Coming soon",description:"Terms and Privacy policy will be available soon."}),children:"Terms of Service"})," ","and"," ",e.jsx("button",{type:"button",className:"text-primary hover:text-primary/80 underline",onClick:()=>o({title:"Coming soon",description:"Terms and Privacy policy will be available soon."}),children:"Privacy Policy"})]}),e.jsxs(y,{type:"submit",className:"w-full h-12 bg-primary hover:bg-primary/90 text-primary-foreground font-medium transition-all duration-200",disabled:t,children:[t?e.jsx(T,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(W,{className:"h-4 w-4 mr-2"}),"Create account"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"bg-border"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"bg-card px-4 text-sm text-muted-foreground",children:"or continue with"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(y,{type:"button",variant:"outline",onClick:L,disabled:t,className:"h-12 bg-background border-border hover:bg-muted transition-all duration-200",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Google"]}),e.jsxs(y,{type:"button",variant:"outline",onClick:F,disabled:t,className:"h-12 bg-background border-border hover:bg-muted transition-all duration-200",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"GitHub"]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(D,{href:"/auth/login",className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Sign in"})]})})]})]})})})}export{se as default};

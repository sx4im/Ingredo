import{j as e,m as y,n as U,d as F,r as ce,ac as oe,F as B,o as de,a5 as me,aa as he,a0 as xe,Q as pe,z as ue,$ as E,ad as ge,ae as je}from"./ui-CVZEx6G0.js";import{a as c}from"./vendor-BfRVl83A.js";import{v as g,u as ye,B as l,C as x,b as p}from"./index-DW-P11BM.js";import{I as A}from"./input-DlY5xDLV.js";import{L as b}from"./label-BQS_J1ER.js";import{B as O}from"./badge-sJBV6tXO.js";import{C as ve}from"./checkbox-C-fH_FFq.js";import{D as fe,e as Ne,a as be,b as we,c as Ce}from"./dialog-Bb9TaMw8.js";import{S as w,a as C,b as k,d as S,e as o}from"./select-BYHccEuS.js";import"./query-DB9TWAFE.js";import"./index-D2KtrdjK.js";function Ue(){const n=g(s=>s.shoppingList),R=g(s=>s.addToShoppingList),Q=g(s=>s.updateShoppingListItem),V=g(s=>s.removeFromShoppingList),M=g(s=>s.togglePurchased),W=g(s=>s.clearPurchased),{toast:m}=ye(),[P,Y]=c.useState(""),[v,H]=c.useState("all"),[I,X]=c.useState("added"),[f,_]=c.useState("desc"),[N,G]=c.useState(!0),[J,u]=c.useState(!1),[j,L]=c.useState(null),[r,d]=c.useState({name:"",quantity:1,unit:"pieces",category:"vegetables",isPurchased:!1}),$=["vegetables","fruits","dairy","meat","grains","spices","beverages","other"],K=["pieces","kg","g","lbs","oz","liters","ml","cups","tbsp","tsp","cans","packages"],D=c.useMemo(()=>{let s=n.filter(a=>{const t=a.name.toLowerCase().includes(P.toLowerCase()),i=v==="all"||a.category===v,h=N||!a.isPurchased;return t&&i&&h});return s.sort((a,t)=>{let i=0;switch(I){case"name":i=a.name.localeCompare(t.name);break;case"category":i=a.category.localeCompare(t.category);break;case"quantity":i=a.quantity-t.quantity;break;case"added":i=new Date(a.addedDate).getTime()-new Date(t.addedDate).getTime();break;case"status":i=(a.isPurchased?1:0)-(t.isPurchased?1:0);break}return f==="asc"?i:-i}),s},[n,P,v,I,f,N]),q=n.filter(s=>s.isPurchased).length,z=n.length,T=z-q,Z=()=>{if(!r.name){m({title:"Missing information",description:"Please enter an item name.",variant:"destructive"});return}R(r),d({name:"",quantity:1,unit:"pieces",category:"vegetables",isPurchased:!1}),u(!1),m({title:"Item added!",description:`${r.name} has been added to your shopping list.`})},ee=s=>{L(s),d({name:s.name,quantity:s.quantity,unit:s.unit,category:s.category,isPurchased:s.isPurchased}),u(!0)},se=()=>{j&&(Q(j.id,{name:r.name,quantity:r.quantity,unit:r.unit,category:r.category}),L(null),d({name:"",quantity:1,unit:"pieces",category:"vegetables",isPurchased:!1}),u(!1),m({title:"Item updated!",description:`${r.name} has been updated.`}))},ae=(s,a)=>{V(s),m({title:"Item removed",description:`${a} has been removed from your shopping list.`})},te=s=>{M(s)},ie=()=>{W(),m({title:"Cleared completed items",description:"All purchased items have been removed from your list."})},re=()=>{const s=n.filter(h=>!h.isPurchased).map(h=>`${h.name} - ${h.quantity} ${h.unit}`).join(`
`),a=new Blob([s],{type:"text/plain"}),t=URL.createObjectURL(a),i=document.createElement("a");i.href=t,i.download="shopping-list.txt",i.click(),URL.revokeObjectURL(t),m({title:"List exported!",description:"Your shopping list has been downloaded as a text file."})},le=()=>{const s=n.filter(a=>!a.isPurchased).map(a=>`${a.name} - ${a.quantity} ${a.unit}`).join(`
`);navigator.clipboard.writeText(s),m({title:"Copied to clipboard!",description:"Your shopping list has been copied."})},ne=()=>{const s=n.filter(t=>!t.isPurchased).map(t=>`${t.name} - ${t.quantity} ${t.unit}`).join(`
`),a=window.open("","_blank");a&&(a.document.write(`
        <html>
          <head>
            <title>Shopping List</title>
            <style>
              body { font-family: Arial, sans-serif; padding: 20px; }
              h1 { color: #333; }
              .item { margin: 5px 0; }
            </style>
          </head>
          <body>
            <h1>Shopping List</h1>
            <div>${s.split(`
`).map(t=>`<div class="item">${t}</div>`).join("")}</div>
          </body>
        </html>
      `),a.document.close(),a.print())};return e.jsx("div",{className:"relative min-h-screen bg-grain bg-background font-sans text-foreground py-12",children:e.jsx("div",{className:"relative z-20 container mx-auto px-6 lg:px-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(y.div,{initial:{opacity:0,y:-15},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"relative pb-1",children:[e.jsx("h1",{className:"font-serif text-4xl lg:text-5xl font-medium tracking-tight text-foreground mb-4",children:"Shopping List"}),e.jsx("div",{className:"w-12 h-0.5 mb-6",style:{background:"var(--accent-gold)"}}),e.jsx("p",{className:"text-muted-foreground text-lg italic font-serif",children:"Plan your shopping and never forget an ingredient"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[T>0&&e.jsxs(O,{variant:"secondary",className:"px-3 py-1",children:[T," items remaining"]}),e.jsxs(fe,{open:J,onOpenChange:u,children:[e.jsx(Ne,{asChild:!0,children:e.jsxs(l,{children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Add Item"]})}),e.jsxs(be,{className:"sm:max-w-md",children:[e.jsx(we,{children:e.jsx(Ce,{children:j?"Edit Shopping Item":"Add New Item"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"name",children:"Item Name"}),e.jsx(A,{id:"name",value:r.name,onChange:s=>d(a=>({...a,name:s.target.value})),placeholder:"e.g., Milk"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"quantity",children:"Quantity"}),e.jsx(A,{id:"quantity",type:"number",min:"1",value:r.quantity,onChange:s=>d(a=>({...a,quantity:Number(s.target.value)}))})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"unit",children:"Unit"}),e.jsxs(w,{value:r.unit,onValueChange:s=>d(a=>({...a,unit:s})),children:[e.jsx(C,{children:e.jsx(k,{})}),e.jsx(S,{children:K.map(s=>e.jsx(o,{value:s,children:s},s))})]})]})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"category",children:"Category"}),e.jsxs(w,{value:r.category,onValueChange:s=>d(a=>({...a,category:s})),children:[e.jsx(C,{children:e.jsx(k,{})}),e.jsx(S,{children:$.map(s=>e.jsx(o,{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(l,{onClick:j?se:Z,className:"flex-1 bg-primary hover:bg-primary/90",children:j?"Update Item":"Add Item"}),e.jsx(l,{variant:"outline",onClick:()=>{u(!1),L(null),d({name:"",quantity:1,unit:"pieces",category:"vegetables",isPurchased:!1})},children:"Cancel"})]})]})]})]})]})]})}),e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(x,{className:"border-0 shadow-sm transition-colors",style:{background:"var(--bg-deep-olive)"},children:e.jsx(p,{className:"p-8",children:e.jsxs("div",{className:"flex flex-col items-start gap-4",children:[e.jsx(F,{className:"h-5 w-5",style:{color:"var(--accent-gold)"}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-serif font-medium mb-1",style:{color:"var(--text-on-dark)"},children:z}),e.jsx("p",{className:"text-xs uppercase tracking-widest font-bold",style:{color:"var(--text-on-dark-muted)"},children:"Total Items"})]})]})})}),e.jsx(x,{className:"border-0 shadow-sm transition-colors",style:{background:"var(--bg-deep-olive)"},children:e.jsx(p,{className:"p-8",children:e.jsxs("div",{className:"flex flex-col items-start gap-4",children:[e.jsx(ce,{className:"h-5 w-5",style:{color:"var(--accent-gold)"}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-serif font-medium mb-1",style:{color:"var(--text-on-dark)"},children:q}),e.jsx("p",{className:"text-xs uppercase tracking-widest font-bold",style:{color:"var(--text-on-dark-muted)"},children:"Purchased"})]})]})})}),e.jsx(x,{className:"border-0 shadow-sm transition-colors",style:{background:"var(--bg-deep-olive)"},children:e.jsx(p,{className:"p-8",children:e.jsxs("div",{className:"flex flex-col items-start gap-4",children:[e.jsx(oe,{className:"h-5 w-5",style:{color:"var(--accent-gold)"}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-serif font-medium mb-1",style:{color:"var(--text-on-dark)"},children:T}),e.jsx("p",{className:"text-xs uppercase tracking-widest font-bold",style:{color:"var(--text-on-dark-muted)"},children:"Remaining"})]})]})})}),e.jsx(x,{className:"border-0 shadow-sm transition-colors",style:{background:"var(--bg-deep-olive)"},children:e.jsx(p,{className:"p-8",children:e.jsxs("div",{className:"flex flex-col items-start gap-4",children:[e.jsx(B,{className:"h-5 w-5",style:{color:"var(--accent-gold)"}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-serif font-medium mb-1",style:{color:"var(--text-on-dark)"},children:new Set(n.map(s=>s.category)).size}),e.jsx("p",{className:"text-xs uppercase tracking-widest font-bold",style:{color:"var(--text-on-dark-muted)"},children:"Categories"})]})]})})})]}),e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-8",children:e.jsx(x,{children:e.jsxs(p,{className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(A,{placeholder:"Search shopping items...",value:P,onChange:s=>Y(s.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[e.jsxs(w,{value:v,onValueChange:H,children:[e.jsxs(C,{className:"w-full sm:w-40",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),e.jsx(k,{placeholder:"Category"})]}),e.jsxs(S,{children:[e.jsx(o,{value:"all",children:"All Categories"}),$.map(s=>e.jsx(o,{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))]})]}),e.jsxs("div",{className:"flex gap-2 flex-1",children:[e.jsxs(w,{value:I,onValueChange:X,children:[e.jsx(C,{className:"flex-1 sm:w-32",children:e.jsx(k,{placeholder:"Sort by"})}),e.jsxs(S,{children:[e.jsx(o,{value:"added",children:"Date Added"}),e.jsx(o,{value:"name",children:"Name"}),e.jsx(o,{value:"category",children:"Category"}),e.jsx(o,{value:"quantity",children:"Quantity"}),e.jsx(o,{value:"status",children:"Status"})]})]}),e.jsx(l,{variant:"outline",onClick:()=>_(f==="asc"?"desc":"asc"),className:"px-3",children:f==="asc"?e.jsx(me,{className:"h-4 w-4"}):e.jsx(he,{className:"h-4 w-4"})}),e.jsx(l,{variant:N?"default":"outline",size:"sm",onClick:()=>G(!N),className:"px-3 whitespace-nowrap",children:"Show Completed"})]})]})]}),n.length>0&&e.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[e.jsxs(l,{variant:"outline",size:"sm",onClick:re,children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"Export TXT"]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:le,children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Copy List"]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:ne,children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Print"]}),q>0&&e.jsxs(l,{variant:"outline",size:"sm",onClick:ie,children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Clear Completed"]})]})]})})}),e.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:D.length===0?e.jsx(x,{className:"bg-white/95 backdrop-blur-sm",children:e.jsxs(p,{className:"p-12 text-center",children:[e.jsx(F,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:"No items found"}),e.jsx("p",{className:"text-gray-600 mb-6 text-center max-w-md mx-auto",children:n.length===0?"Start building your shopping list by adding some items!":"Try adjusting your search or filter criteria."}),n.length===0&&e.jsx("div",{className:"flex justify-center",children:e.jsxs(l,{onClick:()=>u(!0),children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Add Your First Item"]})})]})}):e.jsx("div",{className:"space-y-3",children:e.jsx(ge,{children:D.map((s,a)=>e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:a*.05},children:e.jsx(x,{className:`transition-all duration-300 ${s.isPurchased?"bg-green-50 border-green-200 opacity-75":"hover:shadow-md"}`,children:e.jsx(p,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ve,{checked:s.isPurchased,onCheckedChange:()=>te(s.id),className:"data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:`flex items-center gap-2 ${s.isPurchased?"line-through text-gray-500":""}`,children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.name}),e.jsx(O,{variant:"secondary",className:"text-xs",children:s.category})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.quantity," ",s.unit]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>ee(s),disabled:s.isPurchased,children:e.jsx(je,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>ae(s.id,s.name),children:e.jsx(E,{className:"h-4 w-4"})})]})]})})})},s.id))})})})]})})})}export{Ue as default};

import{t as o}from"./index-9SW5wrSE.js";class a extends Error{constructor(e,n){super(e),this.name="APIError",this.status=n}}async function i(t){if(!t.ok){const e=await t.text().catch(()=>t.statusText);throw t.status===401?(o({title:"Authentication required",description:"Please log in to continue.",variant:"destructive"}),window.location.href="/login",new a("Authentication required",401)):new a(e||t.statusText,t.status)}return t}const r={async get(t){const e=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});return await i(e),e.json()},async post(t,e){const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:e?JSON.stringify(e):void 0});return await i(n),n.json()},async put(t,e){const n=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:e?JSON.stringify(e):void 0});return await i(n),n.json()},async patch(t,e){const n=await fetch(t,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:e?JSON.stringify(e):void 0});return await i(n),n.json()},async delete(t){const e=await fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"});return await i(e),e.json()}};export{r as a};
